var Backbone;!function(a){var b=function(){function a(a,b){this.Key=a,this.Value=b}return a}();a.Attribute=b}(Backbone||(Backbone={}));var Backbone;!function(a){var b=function(){function a(a,b,c){"undefined"==typeof c&&(c=void 0),this.fn=a,this.event=b,this.selector=c}return a}();a.DOMEvent=b;var c=function(){function a(a){"undefined"==typeof a&&(a={}),this._fns=new Array,this._context=a}return a.prototype.Add=function(a){this._fns.push(a)},a.prototype.Remove=function(a){for(var b=0;b<this._fns.length;b++)if(this._fns[b]===a)return this._fns.splice(b,1),!0;return!1},a.prototype.Clear=function(){this._fns=[]},a.prototype.Trigger=function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];for(var c=this._fns.slice(0),d=0;d<c.length;d++)c[d].apply(this._context,a||[])},a}();a.Event=c}(Backbone||(Backbone={}));var Backbone;!function(a){var b=function(){function b(c){this.Data=void 0;var d=a._.extend({},c,b._defaults);if(a._.isNull(d.id)||a._.isUndefined(d.id))throw new Error("View 'id' cannot be null or undefined.");if(a._.isNull(d.el)||a._.isUndefined(d.el))throw new Error("View 'el' cannot be null or undefined.");this.Id=d.id,this.ClientId=a._.uniqueId("view_"),this._domEvents=d.domEvents,this.SetElement(d.el,d.delegateDOMEvents)}return b._defaults={id:void 0,el:void 0,domEvents:[],delegateDOMEvents:!1},b.prototype.$=function(a){return this.$el.find(a)},b.prototype.Render=function(){return this},b.prototype.Remove=function(){return this.$el.remove(),this},b.prototype.Detach=function(){return this.$el.detach(),this},b.prototype.SetElement=function(b,c){if("undefined"==typeof c&&(c=!0),a._.isNull(b)||a._.isUndefined(b))throw new Error("View `el` cannot be null or undefined.");return this.$el&&this.UndelegateEvents(),this.$el=a.$(b),this.El=this.$el[0],c&&this.DelegateEvents(this._domEvents),this},b.prototype.DelegateEvents=function(b){if(!(b.length<=0)){this._domEvents=a._.clone(b),this.UndelegateEvents();for(var c in b){var d=a._.bind(b[c].fn,this),e=b[c].event+".delegateEvents"+this.ClientId;void 0===b[c].selector?this.$el.on(e,d):this.$el.delegate(b[c].selector,e,d)}}},b.prototype.UndelegateEvents=function(){this._domEvents=new Array,this.$el.off(".delegateEvents"+this.ClientId)},b}();a.View=b}(Backbone||(Backbone={}));var Backbone;!function(a){var b=function(){function b(b,c){"undefined"==typeof b&&(b={}),"undefined"==typeof c&&(c=void 0),this.Id=void 0,this.IdAttribute="id",this.Sync=a.Sync,this.Collection=void 0,this.OnChange=new a.Event(this),this.OnFetch=new a.Event(this),this.OnSave=new a.Event(this),this.OnDestroyed=new a.Event(this),this.OnValidateError=new a.Event(this),this.ClientId=a._.uniqueId("model_"),this.Attributes=b,this._urlRoot=c}return b.prototype.ToJSON=function(){var b={};a._.isUndefined(this.Id)&&a._.isNull(this.Id)||(b[this.IdAttribute]=this.Id);for(var c in this.Attributes)b[c]=this.Attributes[c];return b},b.prototype.Has=function(a){return null!==this.Attributes[a]},b.prototype.Get=function(a){return this.Attributes[a]},b.prototype.Set=function(a){if(!this._validate(a))return!1;for(var b in a)this.Previous[b]=this.Attributes[b],this.Attributes[b]=a[b];return this.OnChange.Trigger(this.Attributes,this.Previous),!0},b.prototype.Remove=function(a){for(var b in a)a[b].Value=void 0;if(!this._validate(a))return!1;for(var b in a)this.Previous=this.Attributes[b],delete this.Attributes[b];return this.OnChange.Trigger(this.Attributes,this.Previous),!0},b.prototype.Clear=function(){this.Id=void 0,this.Attributes={},this.Previous={},this.Collection=void 0,this.OnChange.Clear(),this.OnFetch.Clear(),this.OnSave.Clear(),this.OnDestroyed.Clear(),this.OnValidateError.Clear()},b.prototype.Keys=function(){return a._(this.Attributes).keys()},b.prototype.Values=function(){var a=[];for(var b in this.Attributes)a.push(this.Attributes[b].Value);return a},b.prototype.Fetch=function(b){var c=this;b=b?a._.clone(b):{};var d=b.success;return b.success=function(a,b,e){return c.Set(c.Parse(a,e))?(c.OnFetch.Trigger(c.Attributes),d&&d(c,b,e),!0):!1},(this.Sync||a.Sync).call(this,a.MethodType.READ,this,b)},b.prototype.Save=function(b){var c=this;b=b?a._.clone(b):{};var d=b.success;b.success=function(a,b,e){var f=c.Parse(a,e);return c.Set(f)?(c.OnSave.Trigger(c.Attributes),d&&d(c,b,e),!0):!1};var e=this.IsNew()?a.MethodType.CREATE:a.MethodType.UPDATE;return(this.Sync||a.Sync).call(this,e,this,b)},b.prototype.Destroy=function(b,c){"undefined"==typeof c&&(c=!1);var d=this;if(b=b?a._.clone(b):{},this.IsNew())return this.OnDestroyed.Trigger(b),null;var e=b.success;return b.success=function(a,f,g){return c&&d.OnDestroyed.Trigger(b),e&&e(a,f,g),!0},c||this.OnDestroyed.Trigger(b),(this.Sync||a.Sync).call(this,a.MethodType.DELETE,this,b)},b.prototype.UrlRoot=function(a){this._urlRoot=a},b.prototype.Url=function(){var a=this._urlRoot||this.Collection.Url()||"/";return this.IsNew?a:a+("/"==a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.Id)},b.prototype.Parse=function(b){a._.isUndefined(b[this.IdAttribute])||(this.Id=b[this.IdAttribute]);var c={};for(var d in b)d!==this.IdAttribute&&(c[d]=new a.Attribute(d,b[d]));return c},b.prototype.Clone=function(){return new b(this.Attributes,this._urlRoot)},b.prototype.IsNew=function(){return void 0===this.Id||null===this.Id},b.prototype.IsValid=function(){return!this._validate(this.Attributes)},b.prototype.Validate=function(){return!0},b.prototype._validate=function(b){b=a._.extend({},this.Attributes,b);var c={};return this.Validate(b,c)?!0:(this.OnValidateError.Trigger(b,c),!1)},b}();a.Model=b}(Backbone||(Backbone={}));var Backbone;!function(a){var b=function(){function a(){}return a.prototype.Url=function(){return""},a}();a.Collection=b}(Backbone||(Backbone={}));var Backbone;!function(a){function b(b,c,d){d||(d={});var e={type:b,dataType:"json",url:c.Url()};return!c||b!==a.MethodType.CREATE&&b!==a.MethodType.UPDATE||(e.contentType="application/json",e.data=JSON.stringify(c.ToJSON())),"GET"!==e.type&&(e.processData=!1),a.$.ajax(a._.extend(e,d))}a.Version="0.3.0",a.$=jQuery,a._=window._,a.MethodType={CREATE:"POST",UPDATE:"PUT",DELETE:"DELETE",READ:"GET"},a.Sync=b}(Backbone||(Backbone={}));